<template>
  <Card class="card">
    <div id="main" ref="chart" class="chart"></div>
  </Card>
</template>

<script>
import * as echarts from "echarts";
export default {
  data() {
    return {};
  },
  mounted() {
    this.createChart();
  },

  methods: {
    createChart() {
      var chartDom = this.$refs.chart;
      var myChart = echarts.init(chartDom);
      var option;
      // prettier-ignore
      const hours = [
    '07:00:00-07:19:59', '07:20:00-07:39:59', '07:40:00-07:59:59', 
    '08:00:00-08:19:59', '08:20:00-08:39:59', '08:40:00-08:59:59',
    '09:00:00-09:19:59', '09:20:00-09:39:59', '09:40:00-09:59:59',
    '10:00:00-10:19:59', '10:20:00-10:39:59', '10:40:00-10:59:59',
    '11:00:00-11:19:59', '11:20:00-11:39:59', '11:40:00-11:59:59',
    '12:00:00-12:19:59', '12:20:00-12:39:59', '12:40:00-12:59:59',
    '13:00:00-13:19:59', '13:20:00-13:39:59', '13:40:00-13:59:59',
    '14:00:00-14:19:59', '14:20:00-14:39:59', '14:40:00-14:59:59',
    '15:00:00-15:19:59', '15:20:00-15:39:59', '15:40:00-15:59:59'
];
      // prettier-ignore
      const lane = [
    '2_west_to_east', '2_east_to_west', '3_west_to_east', '3_east_to_west','4_west_to_east', '4_east_to_west',
    '7_west_to_east', '7_east_to_west','8_west_to_east', '8_east_to_west','9_west_to_east', '9_east_to_west',
    '11_south_to_north', '11_north_to_south','12_south_to_north', '12_north_to_south','13_south_to_north', '13_north_to_south','14_south_to_north', '14_north_to_south'
];
      // prettier-ignore
      const data =[[0, 0, 13.62], [0, 1, 13.81], [0, 2, 14.05], [0, 3, 14.08], [0, 4, 14.23], [0, 5, 14.16], [0, 6, 13.93], [0, 7, 13.62], [0, 8, 13.48], [0, 9, 13.45], [0, 10, 13.43], [0, 11, 13.37], [0, 12, 13.3], [0, 13, 13.31], [0, 14, 13.3], [0, 15, 13.3], [0, 16, 13.28], [0, 17, 13.31], [0, 18, 13.27], [0, 19, 13.28], [0, 20, 13.29], [0, 21, 13.28], [0, 22, 13.28], [0, 23, 13.27], [0, 24, 13.27], [0, 25, 13.27], [0, 26, 13.28], [1, 0, 11.63], [1, 1, 10.45], [1, 2, 9.78], [1, 3, 9.77], [1, 4, 9.83], [1, 5, 9.66], [1, 6, 9.67], [1, 7, 9.63], [1, 8, 9.65], [1, 9, 9.71], [1, 10, 9.79], [1, 11, 9.78], [1, 12, 9.81], [1, 13, 9.81], [1, 14, 9.83], [1, 15, 9.85], [1, 16, 9.81], [1, 17, 9.84], [1, 18, 9.84], [1, 19, 9.84], [1, 20, 9.86], [1, 21, 9.84], [1, 22, 9.85], [1, 23, 9.85], [1, 24, 9.86], [1, 25, 9.86], [1, 26, 9.86], [2, 0, 6.91], [2, 1, 6.33], [2, 2, 5.85], [2, 3, 5.76], [2, 4, 5.77], [2, 5, 5.65], [2, 6, 5.65], [2, 7, 5.65], [2, 8, 5.67], [2, 9, 5.74], [2, 10, 5.78], [2, 11, 5.79], [2, 12, 5.81], [2, 13, 5.83], [2, 14, 5.86], [2, 15, 5.87], [2, 16, 5.85], [2, 17, 5.86], [2, 18, 5.86], [2, 19, 5.87], [2, 20, 5.87], [2, 21, 5.87], [2, 22, 5.87], [2, 23, 5.87], [2, 24, 5.88], [2, 25, 5.88], [2, 26, 5.89], [3, 0, 6.21], [3, 1, 5.51], [3, 2, 4.96], [3, 3, 4.79], [3, 4, 4.78], [3, 5, 4.64], [3, 6, 4.67], [3, 7, 4.68], [3, 8, 4.72], [3, 9, 4.8], [3, 10, 4.85], [3, 11, 4.86], [3, 12, 4.9], [3, 13, 4.92], [3, 14, 4.94], [3, 15, 4.95], [3, 16, 4.93], [3, 17, 4.95], [3, 18, 4.93], [3, 19, 4.95], [3, 20, 4.94], [3, 21, 4.93], [3, 22, 4.94], [3, 23, 4.95], [3, 24, 4.95], [3, 25, 4.95], [3, 26, 4.96], [4, 0, 10.75], [4, 1, 9.86], [4, 2, 9.16], [4, 3, 8.92], [4, 4, 8.88], [4, 5, 8.68], [4, 6, 8.63], [4, 7, 8.56], [4, 8, 8.55], [4, 9, 8.57], [4, 10, 8.61], [4, 11, 8.62], [4, 12, 8.63], [4, 13, 8.65], [4, 14, 8.66], [4, 15, 8.68], [4, 16, 8.66], [4, 17, 8.69], [4, 18, 8.66], [4, 19, 8.67], [4, 20, 8.64], [4, 21, 8.63], [4, 22, 8.63], [4, 23, 8.64], [4, 24, 8.64], [4, 25, 8.65], [4, 26, 8.65], [5, 0, 10.99], [5, 1, 10.3], [5, 2, 9.61], [5, 3, 9.3], [5, 4, 9.22], [5, 5, 9.0], [5, 6, 8.94], [5, 7, 8.85], [5, 8, 8.82], [5, 9, 8.83], [5, 10, 8.86], [5, 11, 8.85], [5, 12, 8.84], [5, 13, 8.86], [5, 14, 8.87], [5, 15, 8.88], [5, 16, 8.87], [5, 17, 8.89], [5, 18, 8.86], [5, 19, 8.86], [5, 20, 8.83], [5, 21, 8.81], [5, 22, 8.81], [5, 23, 8.82], [5, 24, 8.82], [5, 25, 8.82], [5, 26, 8.83], [6, 0, 13.76], [6, 1, 13.32], [6, 2, 12.71], [6, 3, 12.39], [6, 4, 12.26], [6, 5, 12.03], [6, 6, 11.96], [6, 7, 11.87], [6, 8, 11.86], [6, 9, 11.88], [6, 10, 11.91], [6, 11, 11.9], [6, 12, 11.91], [6, 13, 11.92], [6, 14, 11.93], [6, 15, 11.94], [6, 16, 11.93], [6, 17, 11.96], [6, 18, 11.93], [6, 19, 11.93], [6, 20, 11.9], [6, 21, 11.88], [6, 22, 11.89], [6, 23, 11.89], [6, 24, 11.9], [6, 25, 11.9], [6, 26, 11.91], [7, 0, 13.34], [7, 1, 13.03], [7, 2, 12.58], [7, 3, 12.3], [7, 4, 12.15], [7, 5, 11.92], [7, 6, 11.83], [7, 7, 11.76], [7, 8, 11.77], [7, 9, 11.79], [7, 10, 11.82], [7, 11, 11.83], [7, 12, 11.84], [7, 13, 11.85], [7, 14, 11.86], [7, 15, 11.87], [7, 16, 11.87], [7, 17, 11.89], [7, 18, 11.87], [7, 19, 11.87], [7, 20, 11.85], [7, 21, 11.84], [7, 22, 11.84], [7, 23, 11.85], [7, 24, 11.85], [7, 25, 11.85], [7, 26, 11.85], [8, 0, 6.63], [8, 1, 6.52], [8, 2, 6.32], [8, 3, 6.18], [8, 4, 6.11], [8, 5, 5.99], [8, 6, 5.91], [8, 7, 5.85], [8, 8, 5.84], [8, 9, 5.84], [8, 10, 5.86], [8, 11, 5.86], [8, 12, 5.86], [8, 13, 5.86], [8, 14, 5.86], [8, 15, 5.86], [8, 16, 5.86], [8, 17, 5.86], [8, 18, 5.85], [8, 19, 5.85], [8, 20, 5.84], [8, 21, 5.83], [8, 22, 5.84], [8, 23, 5.84], [8, 24, 5.83], [8, 25, 5.83], [8, 26, 5.83], [9, 0, 6.66], [9, 1, 6.54], [9, 2, 6.35], [9, 3, 6.21], [9, 4, 6.14], [9, 5, 6.02], [9, 6, 5.95], [9, 7, 5.89], [9, 8, 5.87], [9, 9, 5.88], [9, 10, 5.89], [9, 11, 5.89], [9, 12, 5.89], [9, 13, 5.9], [9, 14, 5.89], [9, 15, 5.9], [9, 16, 5.89], [9, 17, 5.9], [9, 18, 5.89], [9, 19, 5.89], [9, 20, 5.88], [9, 21, 5.87], [9, 22, 5.87], [9, 23, 5.87], [9, 24, 5.87], [9, 25, 5.87], [9, 26, 5.87], [10, 0, 8.4], [10, 1, 8.24], [10, 2, 8.02], [10, 3, 7.84], [10, 4, 7.76], [10, 5, 7.59], [10, 6, 7.5], [10, 7, 7.43], [10, 8, 7.41], [10, 9, 7.42], [10, 10, 7.43], [10, 11, 7.43], [10, 12, 7.43], [10, 13, 7.44], [10, 14, 7.43], [10, 15, 7.44], [10, 16, 7.43], [10, 17, 7.44], [10, 18, 7.43], [10, 19, 7.43], [10, 20, 7.42], [10, 21, 7.41], [10, 22, 7.41], [10, 23, 7.41], [10, 24, 7.4], [10, 25, 7.4], [10, 26, 7.4], [11, 0, 8.4], [11, 1, 8.28], [11, 2, 8.07], [11, 3, 7.89], [11, 4, 7.8], [11, 5, 7.63], [11, 6, 7.54], [11, 7, 7.48], [11, 8, 7.47], [11, 9, 7.48], [11, 10, 7.49], [11, 11, 7.49], [11, 12, 7.49], [11, 13, 7.5], [11, 14, 7.5], [11, 15, 7.51], [11, 16, 7.5], [11, 17, 7.52], [11, 18, 7.51], [11, 19, 7.5], [11, 20, 7.49], [11, 21, 7.48], [11, 22, 7.48], [11, 23, 7.48], [11, 24, 7.48], [11, 25, 7.47], [11, 26, 7.47], [12, 0, 15.44], [12, 1, 15.21], [12, 2, 14.85], [12, 3, 14.53], [12, 4, 14.37], [12, 5, 14.06], [12, 6, 13.92], [12, 7, 13.82], [12, 8, 13.79], [12, 9, 13.82], [12, 10, 13.85], [12, 11, 13.84], [12, 12, 13.86], [12, 13, 13.88], [12, 14, 13.88], [12, 15, 13.9], [12, 16, 13.89], [12, 17, 13.92], [12, 18, 13.9], [12, 19, 13.9], [12, 20, 13.88], [12, 21, 13.85], [12, 22, 13.86], [12, 23, 13.86], [12, 24, 13.85], [12, 25, 13.84], [12, 26, 13.84], [13, 0, 15.23], [13, 1, 14.9], [13, 2, 14.56], [13, 3, 14.26], [13, 4, 14.1], [13, 5, 13.8], [13, 6, 13.65], [13, 7, 13.56], [13, 8, 13.54], [13, 9, 13.57], [13, 10, 13.6], [13, 11, 13.59], [13, 12, 13.61], [13, 13, 13.63], [13, 14, 13.64], [13, 15, 13.66], [13, 16, 13.66], [13, 17, 13.68], [13, 18, 13.66], [13, 19, 13.67], [13, 20, 13.64], [13, 21, 13.62], [13, 22, 13.63], [13, 23, 13.63], [13, 24, 13.62], [13, 25, 13.61], [13, 26, 13.61], [14, 0, 14.4], [14, 1, 14.13], [14, 2, 13.85], [14, 3, 13.57], [14, 4, 13.42], [14, 5, 13.12], [14, 6, 12.98], [14, 7, 12.88], [14, 8, 12.86], [14, 9, 12.9], [14, 10, 12.92], [14, 11, 12.92], [14, 12, 12.94], [14, 13, 12.96], [14, 14, 12.96], [14, 15, 12.97], [14, 16, 12.95], [14, 17, 12.98], [14, 18, 12.96], [14, 19, 12.96], [14, 20, 12.94], [14, 21, 12.92], [14, 22, 12.93], [14, 23, 12.93], [14, 24, 12.92], [14, 25, 12.92], [14, 26, 12.91], [15, 0, 14.01], [15, 1, 13.79], [15, 2, 13.57], [15, 3, 13.28], [15, 4, 13.15], [15, 5, 12.86], [15, 6, 12.71], [15, 7, 12.6], [15, 8, 12.57], [15, 9, 12.62], [15, 10, 12.64], [15, 11, 12.64], [15, 12, 12.65], [15, 13, 12.67], [15, 14, 12.67], [15, 15, 12.66], [15, 16, 12.63], [15, 17, 12.66], [15, 18, 12.64], [15, 19, 12.64], [15, 20, 12.62], [15, 21, 12.6], [15, 22, 12.61], [15, 23, 12.61], [15, 24, 12.6], [15, 25, 12.6], [15, 26, 12.6], [16, 0, 10.8], [16, 1, 10.63], [16, 2, 10.5], [16, 3, 10.27], [16, 4, 10.16], [16, 5, 9.94], [16, 6, 9.82], [16, 7, 9.72], [16, 8, 9.69], [16, 9, 9.73], [16, 10, 9.74], [16, 11, 9.73], [16, 12, 9.74], [16, 13, 9.74], [16, 14, 9.74], [16, 15, 9.73], [16, 16, 9.7], [16, 17, 9.71], [16, 18, 9.69], [16, 19, 9.69], [16, 20, 9.68], [16, 21, 9.66], [16, 22, 9.67], [16, 23, 9.67], [16, 24, 9.66], [16, 25, 9.66], [16, 26, 9.66], [17, 0, 10.36], [17, 1, 10.31], [17, 2, 10.28], [17, 3, 10.07], [17, 4, 9.93], [17, 5, 9.71], [17, 6, 9.59], [17, 7, 9.51], [17, 8, 9.47], [17, 9, 9.52], [17, 10, 9.53], [17, 11, 9.52], [17, 12, 9.53], [17, 13, 9.54], [17, 14, 9.53], [17, 15, 9.52], [17, 16, 9.5], [17, 17, 9.51], [17, 18, 9.48], [17, 19, 9.48], [17, 20, 9.47], [17, 21, 9.45], [17, 22, 9.46], [17, 23, 9.46], [17, 24, 9.45], [17, 25, 9.45], [17, 26, 9.45], [18, 0, 9.31], [18, 1, 9.28], [18, 2, 9.23], [18, 3, 9.04], [18, 4, 8.87], [18, 5, 8.67], [18, 6, 8.55], [18, 7, 8.47], [18, 8, 8.43], [18, 9, 8.47], [18, 10, 8.48], [18, 11, 8.47], [18, 12, 8.48], [18, 13, 8.48], [18, 14, 8.48], [18, 15, 8.47], [18, 16, 8.45], [18, 17, 8.46], [18, 18, 8.43], [18, 19, 8.43], [18, 20, 8.42], [18, 21, 8.4], [18, 22, 8.41], [18, 23, 8.41], [18, 24, 8.41], [18, 25, 8.41], [18, 26, 8.41], [19, 0, 9.24], [19, 1, 9.23], [19, 2, 9.2], [19, 3, 8.99], [19, 4, 8.82], [19, 5, 8.61], [19, 6, 8.5], [19, 7, 8.41], [19, 8, 8.37], [19, 9, 8.41], [19, 10, 8.41], [19, 11, 8.4], [19, 12, 8.41], [19, 13, 8.41], [19, 14, 8.4], [19, 15, 8.4], [19, 16, 8.37], [19, 17, 8.38], [19, 18, 8.36], [19, 19, 8.35], [19, 20, 8.34], [19, 21, 8.32], [19, 22, 8.34], [19, 23, 8.33], [19, 24, 8.33], [19, 25, 8.33], [19, 26, 8.33]]
    .map(function (item) {
    return [item[1], item[0], item[2]];
});
      option = {
        title: {
          text: "Punch Card of Average Rate",
        },
        legend: {
          data: ["Punch Card"],
          left: "right",
        },
        tooltip: {
          position: "top",
          formatter: function (params) {
            return (
              params.value[2] +
              " commits in " +
              hours[params.value[0]] +
              " of " +
              lane[params.value[1]]
            );
          },
        },
        grid: {
          left: 5,
          bottom: 10,
          right: 30,
          containLabel: true,
        },
        xAxis: {
          type: "category",
          data: hours,
          boundaryGap: false,
          splitLine: {
            show: true,
          },
          axisLine: {
            show: false,
          },
        },
        yAxis: {
          type: "category",
          data: lane,
          axisLine: {
            show: false,
          },
        },
        series: [
          {
            name: "Punch Card",
            type: "scatter",
            symbolSize: function (val) {
              return val[2] * 2;
            },
            data: data,
            animationDelay: function (idx) {
              return idx * 5;
            },
          },
        ],
      };
      option && myChart.setOption(option);
    },
  },
};
</script>

<style scoped>
.chart {
  height: 500px;
  width: 1100px;
}
.card {
  padding: 2vw;
  margin: 1vw;
}
</style>
